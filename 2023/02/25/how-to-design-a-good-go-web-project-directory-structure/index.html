<!DOCTYPE html>
<html>
<head>
    

    

    



    <meta charset="utf-8">
    
    
    
    
    <title>如何设计一个优秀的 Go Web 项目目录结构 | 江湖十年 | 学而不思则罔，思而不学则殆。</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    <meta name="theme-color" content="#3F51B5">
    
    
    <meta name="keywords" content="Golang,Web">
    <meta name="description" content="Go 语言作为一门高效、简洁、并发安全的语言，越来越受到开发者们的青睐，特别是在 Web 开发及云原生领域。而对于一个大型的 Go Web 项目而言，一个优秀的目录结构设计是必不可少的。它可以帮助我们更好地组织代码、减少冗余、提高可维护性和可扩展性。在本文中，我们将讨论如何设计一个优秀的 Go Web 项目目录结构。">
<meta property="og:type" content="article">
<meta property="og:title" content="如何设计一个优秀的 Go Web 项目目录结构">
<meta property="og:url" content="http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/index.html">
<meta property="og:site_name" content="江湖十年">
<meta property="og:description" content="Go 语言作为一门高效、简洁、并发安全的语言，越来越受到开发者们的青睐，特别是在 Web 开发及云原生领域。而对于一个大型的 Go Web 项目而言，一个优秀的目录结构设计是必不可少的。它可以帮助我们更好地组织代码、减少冗余、提高可维护性和可扩展性。在本文中，我们将讨论如何设计一个优秀的 Go Web 项目目录结构。">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2023-02-25T00:48:22.000Z">
<meta property="article:modified_time" content="2023-02-25T13:01:25.944Z">
<meta property="article:author" content="江湖十年">
<meta property="article:tag" content="Golang">
<meta property="article:tag" content="Web">
<meta name="twitter:card" content="summary">
    
        <link rel="alternate" type="application/atom+xml" title="江湖十年" href="/atom.xml">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="stylesheet" href="//unpkg.com/hexo-theme-material-indigo@latest/css/style.css">
    <script>window.lazyScripts=[]</script>

    <!-- custom head -->
    

<meta name="generator" content="Hexo 4.2.0"></head>

<body>
    <div id="loading" class="active"></div>

    <aside id="menu" class="hide" >
  <div class="inner flex-row-vertical">
    <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menu-off">
        <i class="icon icon-lg icon-close"></i>
    </a>
    <div class="brand-wrap" style="background-image:url(/img/brand.jpg)">
      <div class="brand">
        <a href="/" class="avatar waves-effect waves-circle waves-light">
          <img src="/img/avatar.png">
        </a>
        <hgroup class="introduce">
          <h5 class="nickname">江湖十年</h5>
          <a href="mailto:jianghushinian007@outlook.com" title="jianghushinian007@outlook.com" class="mail">jianghushinian007@outlook.com</a>
        </hgroup>
      </div>
    </div>
    <div class="scroll-wrap flex-col">
      <ul class="nav">
        
            <li class="waves-block waves-effect">
              <a href="/"  >
                <i class="icon icon-lg icon-home"></i>
                主页
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/archives"  >
                <i class="icon icon-lg icon-archives"></i>
                归档
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/tags"  >
                <i class="icon icon-lg icon-tags"></i>
                标签
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/categories"  >
                <i class="icon icon-lg icon-th-list"></i>
                分类
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="/about"  >
                <i class="icon icon-lg icon-link"></i>
                关于
              </a>
            </li>
        
            <li class="waves-block waves-effect">
              <a href="https://github.com/jianghushinian" target="_blank" >
                <i class="icon icon-lg icon-github"></i>
                Github
              </a>
            </li>
        
      </ul>
    </div>
  </div>
</aside>

    <main id="main">
        <header class="top-header" id="header">
    <div class="flex-row">
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light on" id="menu-toggle">
          <i class="icon icon-lg icon-navicon"></i>
        </a>
        <div class="flex-col header-title ellipsis">如何设计一个优秀的 Go Web 项目目录结构</div>
        
        <div class="search-wrap" id="search-wrap">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="back">
                <i class="icon icon-lg icon-chevron-left"></i>
            </a>
            <input type="text" id="key" class="search-input" autocomplete="off" placeholder="输入感兴趣的关键字">
            <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="search">
                <i class="icon icon-lg icon-search"></i>
            </a>
        </div>
        
        
        <a href="javascript:;" class="header-icon waves-effect waves-circle waves-light" id="menuShare">
            <i class="icon icon-lg icon-share-alt"></i>
        </a>
        
    </div>
</header>
<header class="content-header post-header">

    <div class="container fade-scale">
        <h1 class="title">如何设计一个优秀的 Go Web 项目目录结构</h1>
        <h5 class="subtitle">
            
                <time datetime="2023-02-25T00:48:22.000Z" itemprop="datePublished" class="page-time">
  2023-02-25
</time>


	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Web/">Web</a></li></ul>

            
        </h5>
    </div>

    


</header>


<div class="container body-wrap">
    
    <aside class="post-widget">
        <nav class="post-toc-wrap post-toc-shrink" id="post-toc">
            <h4>TOC</h4>
            <ol class="post-toc"><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#基本原则"><span class="post-toc-number">1.</span> <span class="post-toc-text">基本原则</span></a></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#Go-项目标准布局"><span class="post-toc-number">2.</span> <span class="post-toc-text">Go 项目标准布局</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#Go-应用程序相关目录"><span class="post-toc-number">2.1.</span> <span class="post-toc-text">Go 应用程序相关目录</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#cmd"><span class="post-toc-number">2.1.1.</span> <span class="post-toc-text">&#x2F;cmd</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#internal"><span class="post-toc-number">2.1.2.</span> <span class="post-toc-text">&#x2F;internal</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#pkg"><span class="post-toc-number">2.1.3.</span> <span class="post-toc-text">&#x2F;pkg</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#configs"><span class="post-toc-number">2.1.4.</span> <span class="post-toc-text">&#x2F;configs</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#test"><span class="post-toc-number">2.1.5.</span> <span class="post-toc-text">&#x2F;test</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#deployments"><span class="post-toc-number">2.1.6.</span> <span class="post-toc-text">deployments</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#third-party"><span class="post-toc-number">2.1.7.</span> <span class="post-toc-text">&#x2F;third_party</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#web"><span class="post-toc-number">2.1.8.</span> <span class="post-toc-text">&#x2F;web</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#项目管理相关目录"><span class="post-toc-number">2.2.</span> <span class="post-toc-text">项目管理相关目录</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#init"><span class="post-toc-number">2.2.1.</span> <span class="post-toc-text">&#x2F;init</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#scripts"><span class="post-toc-number">2.2.2.</span> <span class="post-toc-text">&#x2F;scripts</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#build"><span class="post-toc-number">2.2.3.</span> <span class="post-toc-text">&#x2F;build</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#tools"><span class="post-toc-number">2.2.4.</span> <span class="post-toc-text">&#x2F;tools</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#assets"><span class="post-toc-number">2.2.5.</span> <span class="post-toc-text">&#x2F;assets</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#githooks"><span class="post-toc-number">2.2.6.</span> <span class="post-toc-text">&#x2F;githooks</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#项目文档相关目录"><span class="post-toc-number">2.3.</span> <span class="post-toc-text">项目文档相关目录</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#api"><span class="post-toc-number">2.3.1.</span> <span class="post-toc-text">&#x2F;api</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#docs"><span class="post-toc-number">2.3.2.</span> <span class="post-toc-text">&#x2F;docs</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#examples"><span class="post-toc-number">2.3.3.</span> <span class="post-toc-text">&#x2F;examples</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#不建议使用的目录"><span class="post-toc-number">2.4.</span> <span class="post-toc-text">不建议使用的目录</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#src"><span class="post-toc-number">2.4.1.</span> <span class="post-toc-text">&#x2F;src</span></a></li></ol></li><li class="post-toc-item post-toc-level-4"><a class="post-toc-link" href="#一些放在项目根目录下的文件"><span class="post-toc-number">2.5.</span> <span class="post-toc-text">一些放在项目根目录下的文件</span></a><ol class="post-toc-child"><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#README-md"><span class="post-toc-number">2.5.1.</span> <span class="post-toc-text">&#x2F;README.md</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#Makefile"><span class="post-toc-number">2.5.2.</span> <span class="post-toc-text">&#x2F;Makefile</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#CHANGELOG"><span class="post-toc-number">2.5.3.</span> <span class="post-toc-text">&#x2F;CHANGELOG</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#CONTRIBUTING-md"><span class="post-toc-number">2.5.4.</span> <span class="post-toc-text">&#x2F;CONTRIBUTING.md</span></a></li><li class="post-toc-item post-toc-level-5"><a class="post-toc-link" href="#LICENSE"><span class="post-toc-number">2.5.5.</span> <span class="post-toc-text">&#x2F;LICENSE</span></a></li></ol></li></ol></li><li class="post-toc-item post-toc-level-3"><a class="post-toc-link" href="#总结"><span class="post-toc-number">3.</span> <span class="post-toc-text">总结</span></a></li></ol>
        </nav>
    </aside>


<article id="post-how-to-design-a-good-go-web-project-directory-structure"
  class="post-article article-type-post fade" itemprop="blogPost">

    <div class="post-card">
        <h1 class="post-card-title">如何设计一个优秀的 Go Web 项目目录结构</h1>
        <div class="post-meta">
            <time class="post-time" title="2023-02-25 08:48:22" datetime="2023-02-25T00:48:22.000Z"  itemprop="datePublished">2023-02-25</time>

            
	<ul class="article-category-list"><li class="article-category-list-item"><a class="article-category-list-link" href="/categories/Web/">Web</a></li></ul>



            
<span id="busuanzi_container_page_pv" title="文章总阅读量" style='display:none'>
    <i class="icon icon-eye icon-pr"></i><span id="busuanzi_value_page_pv"></span>
</span>


        </div>
        <div class="post-content" id="post-content" itemprop="postContent">
            <p>Go 语言作为一门高效、简洁、并发安全的语言，越来越受到开发者们的青睐，特别是在 Web 开发及云原生领域。而对于一个大型的 Go Web 项目而言，一个优秀的目录结构设计是必不可少的。它可以帮助我们更好地组织代码、减少冗余、提高可维护性和可扩展性。在本文中，我们将讨论如何设计一个优秀的 Go Web 项目目录结构。</p>
<a id="more"></a>

<h3 id="基本原则"><a href="#基本原则" class="headerlink" title="基本原则"></a>基本原则</h3><p>在开始设计项目目录结构之前，我们需要先了解一些设计目录的基本原则：</p>
<ul>
<li><p>可读性和可维护性：设计目录结构应该易于阅读和维护，目录名称要简洁、清晰，最好能达到顾名思义的效果。</p>
</li>
<li><p>可扩展性和模块化：设计目录结构应该易于扩展和模块化，随着时间的推移，项目会不断变大，项目的目录结构应该能够很容易支撑这种变化。</p>
</li>
<li><p>规范性和一致性：设计目录结构应该遵循规范和一致性，如无特殊情况，目录名称最好统一使用单数形式（特殊情况可以打破，如 <code>/docs</code>、<code>/examples</code>）。</p>
</li>
</ul>
<h3 id="Go-项目标准布局"><a href="#Go-项目标准布局" class="headerlink" title="Go 项目标准布局"></a>Go 项目标准布局</h3><p>早期的 Go 项目目录结构设计五花八门，因为大多数 Go 开发者都有其他编程语言基础，比如 Java、Python 等，这些开发者在设计 Go 项目时，目录结构往往会携带一些其他编程语言、框架所惯用的风格。</p>
<p>但很多情况下，直接套用其他编程语言风格的目录所设计出来的 Go 项目都会有很多不合理之处，为了改变现状，慢慢的 Go 语言社区诞生了很多更符合 Go 哲学的项目目录风格。而这其中，最著名的项目当属 <a href="https://github.com/golang-standards/project-layout" target="_blank" rel="noopener">golang-standards/project-layout</a>。</p>
<p> <code>golang-standards/project-layout</code> 是一个 Go 社区维护的 Go 项目目录结构标准，它的目标是提供一种一致性的、易于理解和使用的目录结构，从而帮助开发者更好地组织和管理自己的代码。</p>
<p>该项目的目录结构基于功能和约定进行组织，通过提供一种标准化的目录结构，可以使得不同的项目之间具有一致的代码组织方式，便于开发者理解和使用。</p>
<p>该项目的目录结构包括以下几个部分：</p>
<h4 id="Go-应用程序相关目录"><a href="#Go-应用程序相关目录" class="headerlink" title="Go 应用程序相关目录"></a>Go 应用程序相关目录</h4><h5 id="cmd"><a href="#cmd" class="headerlink" title="/cmd"></a><code>/cmd</code></h5><p>这个目录主要负责程序的启动、初始化、停止等功能，故主要包含项目的入口文件 <code>main.go</code>，如果一个项目有多个组件，则可以存放多个组件的 <code>main.go</code>，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cmd</span><br><span class="line">├── ctl</span><br><span class="line">│   └── main.go</span><br><span class="line">├── server</span><br><span class="line">│   └── main.go</span><br><span class="line">└── task</span><br><span class="line">    └── main.go</span><br></pre></td></tr></table></figure>

<p>不要在这个目录中放太多的代码，更不要放业务逻辑代码，保持整洁。</p>
<h5 id="internal"><a href="#internal" class="headerlink" title="/internal"></a><code>/internal</code></h5><p>存放项目的内部私有代码和库，不允许在项目外部使用。同时这也是 Go 在编译时强制执行的校验规则，如果在其他项目中导入 <code>internal</code> 目录下的内容，Go(1.19) 在编译时会得到如下错误：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use of internal package xxx not allowed</span><br></pre></td></tr></table></figure>

<blockquote>
<p>注：<code>xxx</code> 为包含 <code>internal</code> 的包路径</p>
</blockquote>
<p>在项目的目录树中的任意位置都可以有 <code>internal</code> 目录，而不仅仅是在顶级目录中。</p>
<p>在 <code>/internal</code> 内部可以增加额外的包结构来区分组件间共享和私有的内部代码：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">internal</span><br><span class="line">├── app</span><br><span class="line">│   ├── ctl</span><br><span class="line">│   ├── server</span><br><span class="line">│   └── task</span><br><span class="line">└── pkg</span><br></pre></td></tr></table></figure>

<p>其中 <code>/internal/app</code> 下存放各个组件的逻辑代码，<code>/internal/pkg</code> 下存放各组件间的共享代码。</p>
<h5 id="pkg"><a href="#pkg" class="headerlink" title="/pkg"></a><code>/pkg</code></h5><p>包含可导出的公共库，可以被其他项目引用。这意味着此目录下的代码可以被导入任何其他项目，被当作库程序来使用，所以将代码放到此目录前要慎重考虑，不要将私有代码放到此目录下。</p>
<p>Travis Jeffery 撰写了<a href="https://travisjeffery.com/b/2019/11/i-ll-take-pkg-over-internal/" target="_blank" rel="noopener">一篇文章</a>讲解了 <code>pkg</code> 和 <code>internal</code> 目录使用建议，你可以进一步了解学习。</p>
<h5 id="configs"><a href="#configs" class="headerlink" title="/configs"></a><code>/configs</code></h5><p>此目录存放配置文件模板或默认配置。</p>
<p>前文讲设计项目目录的基本原则时提到目录名最好使用单数形式，不过由于使用 <code>configs</code> 来存放配置已经是约定俗成的事实标准，故此目录名称可以打破这项设计原则。</p>
<h5 id="test"><a href="#test" class="headerlink" title="/test"></a><code>/test</code></h5><p>可以用来存放 e2e 测试和测试数据等。</p>
<p>对于较大的项目，有一个数据子目录更好一些。例如，如果需要 Go 在编译时忽略目录中的内容，则可以使用 <code>/test/data</code> 或 <code>/test/testdata</code> 这样的目录名称。</p>
<p>另外 Go 还会忽略以 <code>.</code> 或 <code>_</code> 开头的目录或文件，因此可以更具灵活性的来命名测试数据目录。</p>
<h5 id="deployments"><a href="#deployments" class="headerlink" title="deployments"></a><code>deployments</code></h5><p>用来存放 IaaS、PaaS 系统和容器编排部署所需要的配置及模板（如：Docker-Compose，Kubernetes/Helm，Mesos，Terraform，Bosh）。</p>
<p>如果你的项目作为 Kubernetes 生态中的一员或使用 Kubernetes 部署，则建议命名为 <code>/deploy</code>，更加符合 Kubernetes 社区风格。</p>
<h5 id="third-party"><a href="#third-party" class="headerlink" title="/third_party"></a><code>/third_party</code></h5><p>外部辅助工具目录，fork 的代码和其他第三方工具（例如 Swagger UI）。比如我们修改了某个开源的第三方项目的代码，使其满足当前项目的使用需求，就可以将修改后的代码放到 <code>/third_party/fork</code> 目录下进行维护。</p>
<h5 id="web"><a href="#web" class="headerlink" title="/web"></a><code>/web</code></h5><p>如果你打算在项目目录下包含配套的前端程序代码，则可以存放到此目录。主要包括静态资源、前端代码、路由等。</p>
<p>如果你的项目仅提供 RESTful API，且前后端程序需要分开独立维护，则可以不需要此目录，建议将前端代码作为一个独立的项目存在。</p>
<h4 id="项目管理相关目录"><a href="#项目管理相关目录" class="headerlink" title="项目管理相关目录"></a>项目管理相关目录</h4><h5 id="init"><a href="#init" class="headerlink" title="/init"></a><code>/init</code></h5><p>包含系统初始化（systemd、upstart、sysv）和进程管理（runit、supervisord）等配置。这在非容器化部署的项目中非常有用。</p>
<p>另外还可以包含初始化代码，如数据库迁移、缓存初始化等。</p>
<h5 id="scripts"><a href="#scripts" class="headerlink" title="/scripts"></a><code>/scripts</code></h5><p>存放用于执行各种构建、安装、分析等操作的脚本。</p>
<p>根文件 <code>/Makefile</code> 可以引用这些脚本，使其变得更小、更易于维护。</p>
<h5 id="build"><a href="#build" class="headerlink" title="/build"></a><code>/build</code></h5><p>存放程序构建和持续集成相关的文件。例如：</p>
<p>使用 <code>/build/package</code> 目录来存放云（AMI），容器（Docker），操作系统（deb，rpm，pkg）软件包配置和脚本。</p>
<p>使用 <code>/build/ci</code> 目录来存放 CI（travis、circle、drone）配置文件和脚本。</p>
<h5 id="tools"><a href="#tools" class="headerlink" title="/tools"></a><code>/tools</code></h5><p>此项目的支持工具。这些工具可以从 <code>/pkg</code> 和 <code>/internal</code> 目录导入代码。</p>
<h5 id="assets"><a href="#assets" class="headerlink" title="/assets"></a><code>/assets</code></h5><p>项目使用的其他资源 (Image、CSS、JavaScript、SQL 文件等)。</p>
<h5 id="githooks"><a href="#githooks" class="headerlink" title="/githooks"></a><code>/githooks</code></h5><p>Git 相关的钩子存放目录。</p>
<h4 id="项目文档相关目录"><a href="#项目文档相关目录" class="headerlink" title="项目文档相关目录"></a>项目文档相关目录</h4><h5 id="api"><a href="#api" class="headerlink" title="/api"></a><code>/api</code></h5><p>当前项目对外暴露的 API 文档，如 OpenAPI/Swagger 规范文档、JSON Schema 文件、ProtoBuf 定义文件等。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">api</span><br><span class="line">└── openapi</span><br><span class="line">    └── openapi.yaml</span><br></pre></td></tr></table></figure>

<h5 id="docs"><a href="#docs" class="headerlink" title="/docs"></a><code>/docs</code></h5><p>设计、开发和用户文档等（除 godoc 生成的文档）。</p>
<h5 id="examples"><a href="#examples" class="headerlink" title="/examples"></a><code>/examples</code></h5><p>应用程序或公共库的示例。降低使用者的上手难度。</p>
<h4 id="不建议使用的目录"><a href="#不建议使用的目录" class="headerlink" title="不建议使用的目录"></a>不建议使用的目录</h4><h5 id="src"><a href="#src" class="headerlink" title="/src"></a><code>/src</code></h5><p>一些有 Java 或 Python 开发经验的开发者习惯在项目中设计一个 <code>/src</code> 目录，但在 Go 语言中这是不推荐的做法。</p>
<p>早期的 Go 语言的项目都会被放置到 <code>$GOPATH/src</code> 目录下，如果项目中再有一个 <code>/src</code> 目录，那么项目最终的存放的路径就显得比较奇怪：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$GOPATH</span>/src/your_project/src/your_code.go</span><br></pre></td></tr></table></figure>

<p>因此，请不要在一个 Go 项目中设计 <code>/src</code> 目录。</p>
<h4 id="一些放在项目根目录下的文件"><a href="#一些放在项目根目录下的文件" class="headerlink" title="一些放在项目根目录下的文件"></a>一些放在项目根目录下的文件</h4><h5 id="README-md"><a href="#README-md" class="headerlink" title="/README.md"></a><code>/README.md</code></h5><p><code>README.md</code> 是学习并使用项目的入口，是让用户了解项目的第一手资料。一个项目的 <code>README.md</code> 通常包含项目名称和简介、安装说明、使用说明、贡献方式、版权和许可等。</p>
<p>GitHub 也会默认解析 <code>README.md</code> 文件并渲染成 HTML 文档。</p>
<h5 id="Makefile"><a href="#Makefile" class="headerlink" title="/Makefile"></a><code>/Makefile</code></h5><p><code>Makefile</code> 是一个老牌的项目管理工具，建议在 Go 项目中都集成它。<code>Makefile</code> 语法可以参考 <a href="https://seisman.github.io/how-to-write-makefile/index.html" target="_blank" rel="noopener">跟我一起写 Makefile
</a>。</p>
<h5 id="CHANGELOG"><a href="#CHANGELOG" class="headerlink" title="/CHANGELOG"></a><code>/CHANGELOG</code></h5><p>用于存放项目的更新记录，如版本号、作者、更新内容等。如果嫌麻烦，还可以使用 <a href="https://github.com/git-chglog/git-chglog" target="_blank" rel="noopener">git-chglog</a> 或类似工具自动生成。</p>
<h5 id="CONTRIBUTING-md"><a href="#CONTRIBUTING-md" class="headerlink" title="/CONTRIBUTING.md"></a><code>/CONTRIBUTING.md</code></h5><p>如果你的项目是开源项目，则建议包含 <code>/CONTRIBUTING.md</code> 文件，用来说明如何贡献代码、项目规范等，让第三方开发者更容易参与进来。</p>
<h5 id="LICENSE"><a href="#LICENSE" class="headerlink" title="/LICENSE"></a><code>/LICENSE</code></h5><p>开源项目一定要包含 <code>/LICENSE</code>，即开源许可证。没有开源许可证的项目，严格来讲不叫开源项目，如何选择开源许可证可以参考我的另一篇文章 <a href="https://jianghushinian.cn/2023/01/15/open-source-license-introduction/" target="_blank" rel="noopener">开源协议简介</a>。</p>
<h3 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h3><p>经过上面的讲解，最终我们得到的项目目录结构如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">project</span><br><span class="line">├── CHANGELOG</span><br><span class="line">├── CONTRIBUTING.md</span><br><span class="line">├── LICENSE</span><br><span class="line">├── Makefile</span><br><span class="line">├── README.md</span><br><span class="line">├── api</span><br><span class="line">│   └── openapi</span><br><span class="line">│       └── openapi.yaml</span><br><span class="line">├── assets</span><br><span class="line">├── build</span><br><span class="line">├── cmd</span><br><span class="line">│   ├── ctl</span><br><span class="line">│   │   └── main.go</span><br><span class="line">│   ├── server</span><br><span class="line">│   │   └── main.go</span><br><span class="line">│   └── task</span><br><span class="line">│       └── main.go</span><br><span class="line">├── configs</span><br><span class="line">├── deployments</span><br><span class="line">├── docs</span><br><span class="line">├── examples</span><br><span class="line">├── githooks</span><br><span class="line">├── init</span><br><span class="line">├── internal</span><br><span class="line">│   ├── app</span><br><span class="line">│   │   ├── ctl</span><br><span class="line">│   │   ├── server</span><br><span class="line">│   │   └── task</span><br><span class="line">│   └── pkg</span><br><span class="line">├── pkg</span><br><span class="line">├── scripts</span><br><span class="line">├── <span class="built_in">test</span></span><br><span class="line">├── third_party</span><br><span class="line">├── tools</span><br><span class="line">└── web</span><br></pre></td></tr></table></figure>

<p>此目录结构主要参考 <code>golang-standards/project-layout</code> 项目，和一些我自己的思考，最终总结出来。</p>
<p>通过使用以上提供的项目目录结构，可以帮助开发者更好地管理和组织自己的代码，提高代码的可维护性和可扩展性。</p>
<p>以上介绍的目录结构比较适合中大型项目，如果你的项目比较小，则可以只使用 <code>/cmd</code>、<code>/internal</code>、<code>/configs</code> 等几个少量目录，其他目录根据需要再来创建。如果你的项目足够小，甚至不需要什么目录，直接采用平铺式代码结构（将所有文件都放在项目根目录下）即可。</p>
<p>另外，随着技术的不断迭代发展，如 DDD 正在流行起来，Go 社区对项目目录结构的探索也仍在继续，在可预见的未来，一个优秀的 Go Web 项目目录结构的定义一定会被更新，期待下次能够分享更优秀的目录结构设计。</p>
<p>P.S.</p>
<p>本文部分内容由 ChatGPT 生成，体验科技乐趣 :)。</p>
<p><strong>参考</strong></p>
<blockquote>
<p>Standard Go Project Layout：<a href="https://github.com/golang-standards/project-layout" target="_blank" rel="noopener">https://github.com/golang-standards/project-layout</a><br>Standard Go Project Layout 中文文档：<a href="https://github.com/golang-standards/project-layout/blob/master/README_zh-CN.md" target="_blank" rel="noopener">https://github.com/golang-standards/project-layout/blob/master/README_zh-CN.md</a><br>Go 面向包的设计和架构分层：<a href="https://github.com/danceyoung/paper-code/blob/master/package-oriented-design/packageorienteddesign.md" target="_blank" rel="noopener">https://github.com/danceyoung/paper-code/blob/master/package-oriented-design/packageorienteddesign.md</a><br>pkg 和 internal 目录使用建议：<a href="https://travisjeffery.com/b/2019/11/i-ll-take-pkg-over-internal/" target="_blank" rel="noopener">https://travisjeffery.com/b/2019/11/i-ll-take-pkg-over-internal/</a></p>
</blockquote>

        </div>

        <blockquote class="post-copyright">
    
    <div class="content">
        
<span class="post-time">
    最后更新时间：<time datetime="2023-02-25T13:01:25.944Z" itemprop="dateUpdated">2023-02-25 21:01:25</time>
</span><br>


        
        <a href="/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/" target="_blank" rel="external">http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/</a>
        
    </div>
    
    <footer>
        <a href="http://www.jianghushinian.cn">
            <img src="/img/avatar.png" alt="江湖十年">
            江湖十年
        </a>
    </footer>
</blockquote>

        


        <div class="post-footer">
            
	<ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Golang/" rel="tag">Golang</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Web/" rel="tag">Web</a></li></ul>


            
<div class="page-share-wrap">
    

<div class="page-share" id="pageShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/&title=《如何设计一个优秀的 Go Web 项目目录结构》 — 江湖十年&pic=http://www.jianghushinian.cn/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/&title=《如何设计一个优秀的 Go Web 项目目录结构》 — 江湖十年&source=Go 语言作为一门高效、简洁、并发安全的语言，越来越受到开发者们的青睐，特别是在 Web 开发及云原生领域。而对于一个大型的 Go Web 项目而言，一个..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《如何设计一个优秀的 Go Web 项目目录结构》 — 江湖十年&url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/&via=http://www.jianghushinian.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>



    <a href="javascript:;" id="shareFab" class="page-share-fab waves-effect waves-circle">
        <i class="icon icon-share-alt icon-lg"></i>
    </a>
</div>



        </div>
    </div>

    
<nav class="post-nav flex-row flex-justify-between">
  
    <div class="waves-block waves-effect prev">
      <a href="/2023/03/04/how-to-standardize-the-handling-of-restful-api-business-errors/" id="post-prev" class="post-nav-link">
        <div class="tips"><i class="icon icon-angle-left icon-lg icon-pr"></i> Prev</div>
        <h4 class="title">如何规范 RESTful API 的业务错误处理</h4>
      </a>
    </div>
  

  
    <div class="waves-block waves-effect next">
      <a href="/2023/02/12/build-api-documentation-using-openapi/" id="post-next" class="post-nav-link">
        <div class="tips">Next <i class="icon icon-angle-right icon-lg icon-pl"></i></div>
        <h4 class="title">使用 OpenAPI 构建 API 文档</h4>
      </a>
    </div>
  
</nav>



    


    <script src="/js/md5.min.js"></script>
    <section class="comments" id="comments">
        <div id="disqus_thread"></div>
        <script type="text/javascript">
            var disqus_shortname = 'https-jianghushinian-cn';
            var disqus_identifier = location.pathname.slice(1,);
            var disqus_url = 'https://jianghushinian.cn/' + disqus_identifier;
            (function () {
                var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the comments.</noscript>
    </section>


















</article>



</div>

        <footer class="footer">
    <div class="top">
        
<p>
    <span id="busuanzi_container_site_uv" style='display:none'>
        <span id="busuanzi_value_site_uv"></span>
    </span>
    <span id="busuanzi_container_site_pv" style='display:none'>
        <span id="busuanzi_value_site_pv"></span>
    </span>
</p>


        <p>
            
                <span><a href="/atom.xml" target="_blank" class="rss" title="rss"><i class="icon icon-lg icon-rss"></i></a></span>
            
            <span>博客内容遵循 <a rel="license noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享 署名 - 非商业性 - 相同方式共享 4.0 国际协议</a></span>
        </p>
    </div>
    <div class="bottom">
        <p><span>江湖十年 &copy; 2019 - 2023</span>
            <span>
                
                Power by <a href="http://hexo.io/" target="_blank">Hexo</a> Theme <a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank">indigo</a>
            </span>
        </p>
    </div>
</footer>

    </main>
    <div class="mask" id="mask"></div>
<a href="javascript:;" id="gotop" class="waves-effect waves-circle waves-light"><span class="icon icon-lg icon-chevron-up"></span></a>



<div class="global-share" id="globalShare">
    <ul class="reset share-icons">
      <li>
        <a class="weibo share-sns" target="_blank" href="http://service.weibo.com/share/share.php?url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/&title=《如何设计一个优秀的 Go Web 项目目录结构》 — 江湖十年&pic=http://www.jianghushinian.cn/img/avatar.png" data-title="微博">
          <i class="icon icon-weibo"></i>
        </a>
      </li>
      <li>
        <a class="weixin share-sns wxFab" href="javascript:;" data-title="微信">
          <i class="icon icon-weixin"></i>
        </a>
      </li>
      <li>
        <a class="qq share-sns" target="_blank" href="http://connect.qq.com/widget/shareqq/index.html?url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/&title=《如何设计一个优秀的 Go Web 项目目录结构》 — 江湖十年&source=Go 语言作为一门高效、简洁、并发安全的语言，越来越受到开发者们的青睐，特别是在 Web 开发及云原生领域。而对于一个大型的 Go Web 项目而言，一个..." data-title=" QQ">
          <i class="icon icon-qq"></i>
        </a>
      </li>
      <li>
        <a class="facebook share-sns" target="_blank" href="https://www.facebook.com/sharer/sharer.php?u=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/" data-title=" Facebook">
          <i class="icon icon-facebook"></i>
        </a>
      </li>
      <li>
        <a class="twitter share-sns" target="_blank" href="https://twitter.com/intent/tweet?text=《如何设计一个优秀的 Go Web 项目目录结构》 — 江湖十年&url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/&via=http://www.jianghushinian.cn" data-title=" Twitter">
          <i class="icon icon-twitter"></i>
        </a>
      </li>
      <li>
        <a class="google share-sns" target="_blank" href="https://plus.google.com/share?url=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/" data-title=" Google+">
          <i class="icon icon-google-plus"></i>
        </a>
      </li>
    </ul>
 </div>


<div class="page-modal wx-share" id="wxShare">
    <a class="close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <img src="//api.qrserver.com/v1/create-qr-code/?data=http://www.jianghushinian.cn/2023/02/25/how-to-design-a-good-go-web-project-directory-structure/" alt="微信分享二维码">
</div>




    <script src="//cdn.bootcss.com/node-waves/0.7.4/waves.min.js"></script>
<script>
var BLOG = { ROOT: '/', SHARE: true, REWARD: false };


</script>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/main.min.js"></script>


<div class="search-panel" id="search-panel">
    <ul class="search-result" id="search-result"></ul>
</div>
<template id="search-tpl">
<li class="item">
    <a href="{path}" class="waves-block waves-effect">
        <div class="title ellipsis" title="{title}">{title}</div>
        <div class="flex-row flex-middle">
            <div class="tags ellipsis">
                {tags}
            </div>
            <time class="flex-col time">{date}</time>
        </div>
    </a>
</li>
</template>

<script src="//unpkg.com/hexo-theme-material-indigo@latest/js/search.min.js" async></script>






<script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>





</body>
</html>
